## TK
直接 $f[i][j][k]$ 表示用了 $i$ 个，有 $j$ 的冷却时间，少了 $k$ 单位。

然后我想把这东西当辅助数组。然后发现复杂度爆了。

然后一想直接拿来 DP 就是对的。

复杂度 $O(nV^2)$，$V$ 是单个物品值域。

## EI
moEI

显然记一个 $L,R$ 数组表示左上角走最多多少，右上角走最多多少。

然后把横着的连续段提出来，就是三维数点问题：

$l < r ; R_l + l \geq r ; l \geq r - L_r$

显然难以跑过这道题。

但是发现 $l \geq r$ 的情况右边两式子一定成立。

那么转化为二维数点，然后复杂度 $O(n^2\log n)$。
