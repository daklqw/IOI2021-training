## ED
水平不够，想了好久，糊了个做法上去过了……

#### 首先下面是一个假做法：

首先发现直接算有序数组十分麻烦，需要枚举一堆东西，复杂度有亿点高。

那就算原数组。

实际上我们想算出什么？看起来拆成两个 DP 会看起来很好做，一个背包概率，一个每天分配的概率。

但是背包概率就难算了，因为状态里好像还是有亿点多，因为要记两个和，和一堆 cnt。最好把答案直接记在 DP 里。那么显然两个 DP 合并的做法是假的。

分开算不好？那就合着算。实际上我们还没算过一个原数组的概率，咋知道能不能 DP？

这就是偷懒不推式子的后果。还没考虑概率是啥就直接拆开瞎做……然后真实水平就暴露了……

#### 好的下面是正解：

考虑一个原数组 $A$ 的概率：

$$
\frac{\prod_i (a_i - 1)! \frac{D!}{\prod_i (a_i - 1)!}}{\frac{(n + D - 1)!}{(n - 1)!}} = \frac{1}{\binom{n+D-1}{D}}
$$

神 TM 我拆了半天的式子，合起来是消掉的……

然后发现每一个原数组的概率是相等的。然后直接 DP 出所有方案，以及答案和即可。

当然中间除 $k!$ 保证精度也是行的。

