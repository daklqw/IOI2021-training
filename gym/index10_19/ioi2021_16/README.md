## GI 
看起来就很二分。

发现每次询问可以把一个集合分成两部分。

那么我们用线段树维护集合，在上面二分即可。

注意二分时选小的进行查询。

但是随机情况下，我不太会证明……

UPD：看了标的做法，发现我的代码写残了。二分的时候直接判任意一个元素，最后只会得到两个合法区间。然后直接选小的，复杂度证明就启发式合并。

## SI
好难……之前花了一个晚上也没想出来……智力不行选手……

显然鸽子定理。首先 b 的条件比较严格，如果最后确定 b 的话，根据对称性就可以把条件搞成两个，直接选大的。然后只要在两边往中间填即可。

至于确定顺序，直接拓扑。
