## IJ
好难啊……

编了一个做法，以为是 $1.5n$ 的实际上是 $2n$ 的……

考虑我们的瓶颈是在找一个答案为 $\frac{n}{2}$ 的序列。

考虑最少有多少个这样的序列，一算，发现概率还挺大的。

那就直接随机化即可。

## LD
一定是要跳循环，但是循环可能是 $O(rc)$ 的，所以考虑按 $c$ 次后第 $1$ 列到第 $1$ 列来跳。

发现我们从环变成了链，此时只需要维护森林。

考虑动态树。然后发现信息可以合并（是一个区间）

log 动态树绝对跑不过，但是我们发现深度不大，直接暴力修改到根即可。
