## NJ
考虑答案只有四种。

0,1,2 是个人都会判。

至于 3 呢？

考虑选三条路径的交在所有方案中的交，如果没有的话，就找得出三条不交路径。

如果有的话，那么删掉就会不双连通。

于是尝试删掉每条边，将所有的 bel 作为一个点的向量，使用随机值判断是否在同个集合。

## RH
考虑爆搜。

然后爆搜需要一个顺序才比较好。于是考虑杨表这种。

然后加一点剪枝，例如当前步数加下界大于答案等。

对于末尾只有一格宽时，强制这位。

对于放弃一段添加时，这一段下次只能和下一段并上来的同时加（这个剪枝我没写，但是看起来也很强力）。

根据某dl的试验，只要搜连续段个数 $\leq 3$ 的就能过掉。

于是加上这个奇怪剪枝，直接能跑完。

当然为了身心健康也不选择进一步卡下去，直接打表交。
