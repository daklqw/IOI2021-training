## NE
会发现有环要特判。

那么就并查集暴力即可。

不会手写 `lower_bound` 真 /kk

## HD
以前做过，直接编出了做法……现在怎么就不会了……

智商退化确信。

首先网上的题解有一种线性规划转费用流的解法。就是转换成标准型再移项。还行吧……

但是没关系，我们直接上费用流。

首先钦定选一种，转换为区间和在一个区间内。

当然用上下界也没人拦着，但是还是简单点好。

这个上下界我们怎么限定呢？

有两个东西：最大流，流量限制。

显然最大流最好是上界比较好。

这种区间性的，我们用一个数轴构造。

假设我们热爱睡觉，但要找一些时间吃饭。那么最大流有 $n - m_s$ 的流量。

如果用不到这么多怎么办？我们在数轴上全是费用为零的边，这样就可以浪费这些流量了。

至于下界的构造，我们数轴一个位置上不能浪费太多的流量。

我们最多浪费 $n - m_s - m_e$ 的流量，不然不够 $m_e$ 小时吃饭。

注意特判开始几个小时，最多浪费的限制会松一点。

然后怎么使用呢？我们使用了 $1$ 的流量，那么后面长度为 $k$ 的都会贡献到，那么在 $i + k$ 才会还回来。

那么连边就是（假设 $S = 0$，$T = n + 1$）：

1. $(S, 1, K - m_s, 0)$。
2. $(i, i + 1, K - m_s - m_e + \max(K - i, 0), 0)$。
3. $(i, \min(i + K, T), 1, e_i - s_i)$。

## CM
论读题的重要性……只有下一步要锁的时候才会被阻塞……

简单的模拟，对于优先级计算，每次看看有没有优先级不符合的，如果有，改了就重新计算所有的。
