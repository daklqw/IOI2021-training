## LI
我不会析合树。

推推发现如果同时有满足条件的 $[l_1, r_1], [l_2, r_2] (l_1 \leq l_2 \leq r_1 \leq r_2)$ 则 $[l_2, r_1]$ 一定满足。

然后线段树贪心一发就好了。

## AI
之前从 $\$$ gg 那里学过奇怪复杂度的最大独立集。

然后没写过拿过来写。

然后一写就 T……没想到是没处理连通块，这样子所有点都是孤立点复杂度直接爆炸（因为这个做法需要特判度数小的）。

这道题是个最大独立集（其实是最大团，但本质相同）。

如果最大度数小于 $3$，显然有 trivial 的做法。

然后取度数最大的，看它是否删。复杂度 $T(n) = T(n - 3) + T(n - 1)$。

这道题里可以直接搜过。听说直接 shuffle 也能过。

并不知道正解是啥，因为找不到题解。

至少这个做法跑的飞快就对了。

